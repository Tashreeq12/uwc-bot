<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>UWC Bot Accessible Chat</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; }
    #webchat { width:100%; height: 100vh; }

    /* Floating voice button in bottom-right corner */
    #voiceToggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      border: 0;
      padding: 14px;
      border-radius: 50%;
      cursor: pointer;
      background: #1e88e5;
      color: #fff;
      font-size: 22px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      z-index: 9999;
    }
    #voiceToggle:disabled { background: #9e9e9e; }

    /* Floating status box above voice button */
    #status {
      position: fixed;
      bottom: 80px;
      right: 20px;
      font-size: 14px;
      color: #555;
      background: rgba(255,255,255,0.95);
      padding: 8px 12px;
      border-radius: 6px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.15);
      max-width: 250px;
      z-index: 9999;
    }

    /* Hide default Botpress voice button */
    .bpw-speech-button, .bpw-floating-button {
      display: none !important;
      visibility: hidden !important;
      pointer-events: none !important;
    }
  </style>
  <script src="https://cdn.botpress.cloud/webchat/v3.2/inject.js"></script>
</head>
<body>

<div id="webchat"></div>

<!-- Custom voice button and status -->
<button id="voiceToggle" aria-label="Start or stop voice input">ðŸŽ¤</button>
<div id="status" aria-live="polite">You can type below or use voice ðŸŽ¤</div>

<script>
  // Initialize Botpress Webchat without default voice
  window.botpress.init({
    botId: 'aa441515-3c65-48ea-acd1-91044111bed2',
    clientId: '4122d265-45f6-47ff-ad06-007367e5444b',
    selector: '#webchat',
    configuration: {
      enableTextInput: true,
      enableVoice: false,
      showConversationsButton: false,
      themeMode: 'light',
      fontFamily: 'Inter, Arial',
      radius: 4,
      headerVariant: 'glass',
      color: '#3276EA',
      footer: "[âš¡ by Botpress](https://botpress.com/?from=webchat)"
    }
  });

  (function ready(cb){
    if(window.botpressWebChat){ cb(); } 
    else { setTimeout(() => ready(cb), 100); }
  })(function(){
    const statusEl = document.getElementById('status');
    const voiceToggle = document.getElementById('voiceToggle');

    // Text-to-speech function
    function speak(text){
      window.speechSynthesis.cancel();
      const u = new SpeechSynthesisUtterance(text);
      u.lang = 'en-US';
      u.rate = 1.0;
      window.speechSynthesis.speak(u);
    }

    // Audio cues function
    function playSound(type){
      const audio = new Audio();
      if(type === 'listening') audio.src = 'https://actions.google.com/sounds/v1/alarms/beep_short.ogg';
      else if(type === 'stopped') audio.src = 'https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg';
      else if(type === 'botSpeaking') audio.src = 'https://actions.google.com/sounds/v1/alarms/digital_watch_alarm_long_


